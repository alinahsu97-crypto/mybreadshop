{% load static %}
<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç©€èªæ‰‹å·¥çª¯çƒ¤éºµåŒ…</title>
<link rel="stylesheet" href="{% static 'products/css/style.css' %}">
<link rel="stylesheet" href="{% static 'products/css/cart.css' %}">
</head>
<body>

<!-- Header å€å¡Š -->
{% include 'products/header.html' %}

<main class="cart-page">
    <h2>æˆ‘çš„è³¼ç‰©è»Š</h2>

    {% if cart %}
    
    <!-- è³¼ç‰©è»Šè¡¨æ ¼ -->
    <table class="cart-table">
        <thead>
            <tr>
                <th>å•†å“</th>
                <th>åƒ¹æ ¼</th>
                <th>æ•¸é‡</th>
                <th>å°è¨ˆ</th>
                <th>æ“ä½œ</th>
            </tr>
        </thead>

        <tbody>
            {% for item in cart %}
            <tr>

                <!-- å•†å“è³‡è¨Šï¼ˆå«åœ–ç‰‡ + åç¨±ï¼‰ -->
                <td class="product-info">
                    {% if item.product.image %}
                    <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
                    {% endif %}
                    <span>{{ item.product.name }}</span>
                </td>

                <!-- å–®åƒ¹ -->
                <td>${{ item.product.price }}</td>

                <!-- æ•¸é‡ï¼ˆä¹‹å¾Œå¯åŠ å…¥ + / - æŒ‰éˆ•ï¼‰ -->
                <td>{{ item.quantity }}</td>

                <!-- å°è¨ˆ -->
                <td>${{ item.total_price }}</td>

                <!-- åˆªé™¤æŒ‰éˆ• -->
                <td>
                    <a href="{% url 'remove_from_cart' item.product.id %}" class="remove-btn">åˆªé™¤</a>
                </td>

            </tr>
            {% endfor %}
        </tbody>

    </table>

    <!-- é€™è£¡æ˜¯çµå¸³å€å¡Šï¼šæ–°å¢å¡ç‰‡æ¡†æ¶ã€ç¾åŒ–ç¸½è¨ˆèˆ‡çµå¸³æŒ‰éˆ• -->
    <div class="checkout-box">
        
        <!-- ç¸½è¨ˆé‡‘é¡ -->
        <div class="checkout-total">
            <span class="label">ç¸½è¨ˆï¼š</span>
            <span class="price">${{ cart.get_total_price }}</span>
        </div>

        <!-- çµå¸³æŒ‰éˆ•ï¼ˆä¹‹å¾Œæœƒå°åˆ°çµå¸³æµç¨‹é ï¼‰ -->
        <a href="#" class="checkout-button">å‰å¾€çµå¸³</a>

    </div>

    {% else %}
    
    <!-- è³¼ç‰©è»Šç©ºçš„ç‹€æ…‹æç¤º -->
    <p class="empty-cart">ä½ çš„è³¼ç‰©è»Šæ˜¯ç©ºçš„ ğŸ˜¢</p>

    {% endif %}
</main>

<!-- Footer å€å¡Š -->
{% include 'products/footer.html' %}
</body>
</html>
